(window["webpackJsonpreact-portfolio"]=window["webpackJsonpreact-portfolio"]||[]).push([[0],{16:function(e,t,a){e.exports=a(27)},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),o=(a(21),a(7)),s=a(8),l=a(11),p=a(9),d=a(12),u=(a(22),a(23),a(30)),m=a(29),h="https://emotional.byteroad.net",f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).addMarker=function(e){console.log("comes here");var t=a.state.markers;t.push(e.latlng),console.log(e.latlng),a.setState({markers:t})},a.state={mainTitle:"",mainDescription:"",records:[],title:"",description:"",contactPoint:"",type:"",url:"",filter:"",markers:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleInputChange",value:function(e){this.setState({filter:e.target.value})}},{key:"getTitle",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){t.setState({mainTitle:e.title}),t.setState({mainDescription:e.description}),console.log(t.state.mainTitle)})).catch((function(e){}))}},{key:"getRecords",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){t.setState({records:e.features}),t.setState({title:t.state.records[0].properties.title}),t.setState({description:t.state.records[0].properties.description}),t.setState({url:t.getAvatar()}),t.setState({created:t.state.records[0].properties.created}),t.setState({contactPoint:t.state.records[0].properties.contactPoint}),t.setState({type:t.state.records[0].properties.type})})).catch((function(e){}))}},{key:"handleSubmit",value:function(){this.getRecords(""!==this.state.filter?"".concat(h,"/collections/").concat("ec_catalog","/items?q=").concat(this.state.filter):"".concat(h,"/collections/").concat("ec_catalog","/items?limit=").concat(100))}},{key:"componentDidMount",value:function(){this.getTitle("".concat(h,"/collections/").concat("ec_catalog","?f=json")),this.getRecords("".concat(h,"/collections/").concat("ec_catalog","/items?limit=").concat(100))}},{key:"genDelta",value:function(){return Math.random()}},{key:"handleClick",value:function(e){console.log(e);var t={lat:e.properties.extent.spatial.bbox[0][1],lng:e.properties.extent.spatial.bbox[0][0]+this.genDelta()};console.log(t);var a=this.state.markers;return a.push(t),this.setState({markers:a}),this.refs.map.leafletElement.flyTo(t,12),this.setState({title:e.properties.title,description:e.properties.description,url:this.getAvatar(),created:e.properties.created,contactPoint:e.properties.contactPoint,type:e.properties.type})}},{key:"getAvatar",value:function(){var e=Math.random();return e<.2?"https://upload.wikimedia.org/wikipedia/en/a/a7/StanMarsh.png":e<.4?"https://upload.wikimedia.org/wikipedia/en/7/77/EricCartman.png":e<.6?"https://upload.wikimedia.org/wikipedia/en/2/25/KyleBroflovski.png":e<.8?"https://upload.wikimedia.org/wikipedia/en/6/6f/KennyMcCormick.png":"https://upload.wikimedia.org/wikipedia/en/a/ab/Wendy_South_Park.png"}},{key:"renderProjectItem",value:function(){var e=this;return this.state.records.map((function(t){return r.a.createElement("div",{className:"project-item",key:t.id,onClick:function(){e.handleClick(t)}},r.a.createElement("img",{src:e.getAvatar(),alt:t.properties.title}),r.a.createElement("h3",null,t.properties.title),r.a.createElement("p",null,"description: ",t.properties.description),r.a.createElement("p",null,"contactPoint: ",t.properties.contactPoint.name),r.a.createElement("p",null,"created: ",t.properties.created),r.a.createElement("p",null,"type: ",t.properties.type))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"card bg-dark text-white text-center"},r.a.createElement("div",{class:"card-body"},r.a.createElement("h2",{class:"card-title"},this.state.mainTitle),r.a.createElement("p",{class:"card-text"},this.state.mainDescription))),r.a.createElement("div",{className:"featured-section"},r.a.createElement("div",{id:"feature-block"},r.a.createElement(u.a,{ref:"map",center:[38.736946,-9.142685],zoom:11,onClick:this.addMarker},r.a.createElement(m.a,{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.png",attribution:'\xa9 Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> \u2014 Map data \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})),r.a.createElement("div",{id:"right"},r.a.createElement("h2",{id:"feature-title"},this.state.title),r.a.createElement("p",{id:"feature-desc"},this.state.description),r.a.createElement("p",{id:"feature-created"},this.state.created))),r.a.createElement("div",{className:"project-search"},r.a.createElement("div",{className:"form-inline mb-3"},r.a.createElement("input",{type:"text",className:"form-control flex-primary-1",placeholder:"","aria-label":"","aria-describedby":"basic-addon1",name:"title",onChange:function(t){return e.handleInputChange(t)}}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{className:"btn btn-primary ml-2",type:"button",onClick:function(t){return e.handleSubmit(t)}},"Filter"))))),r.a.createElement("div",{id:"project-grid"},this.renderProjectItem()))}}]),t}(r.a.Component),g=(a(26),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={records:{}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://emotional.byteroad.net/collections/ec_catalog/items?f=json").then((function(e){return e.json()})).then((function(t){e.setState({records:t})})).catch((function(e){}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,{records:this.state.records.features,projects:this.state.projects}))}}]),t}(r.a.Component));c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f4949c16.chunk.js.map